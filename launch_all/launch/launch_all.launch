<launch>
    <arg name="carla_bridge" default="True"/>
    <arg name="purepursuit" default="False"/>
    <arg name="costmap" default="True"/>
    <arg name="rrt" default="True"/>
    <arg name="route_planner" default="False"/>
    <arg name="rviz" default="True"/>

    <!-- include file="$(find template_ros_package)/launch/launch_file.launch"/ -->

    <group if="$(arg carla_bridge)">
        <include file="$(find carla_setup)/launch/carla.launch"/>
        <node pkg="carla_setup" type="test_carla_ackermann_control.py" 
              name="carla_ackermann" output="screen" required="True" />
    </group>

    <group if="$(arg purepursuit)">
        <include file="$(find purepursuit)/launch/purepursuit.launch"/>
    </group>

    <group if="$(arg costmap)">
        <include file="$(find launch_all)/launch/nodes_launch/costmap_2d/costmap_2d.launch"/>
    </group>

    <group if="$(arg rrt)">
        <remap from="costmap" to="costmap/costmap"/>
        <include file="$(find rrt)/launch/rrt.launch"/>
    </group>

    <group if="$(arg route_planner)">
        <include file="$(find route_planner)/launch/route_planner.launch"/>
    </group>

    <group if="$(arg rviz)">
        <node type="rviz" name="rviz" pkg="rviz" args="-d $(find launch_all)/rviz/rviz_config.rviz"/>
    </group>
</launch>
